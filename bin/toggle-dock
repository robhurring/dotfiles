#!/usr/bin/env sh

current_status() {
  echo $(osascript -e 'tell application "System Events" to get the autohide of the dock preferences')
}

toggle_dock() {
  local current=$(current_status)
  local newval

  case "$current" in
    "true")
      newval="false"
      ;;
    "false")
      newval="true"
      ;;
  esac

  $(osascript -e "tell application \"System Events\" to set the autohide of the dock preferences to ${newval}")
}

toggle_dock
